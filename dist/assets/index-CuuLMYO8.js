import{C as ee,S as Fe,a as Ie,F as He,H as Oe,b as Je,D as We,c as Ne,A as je,P as Ge,d as Ke,W as Pe,e as Ue,V as g,R as te,G as De,B as M}from"./three-C4_QSHiD.js";import{O as c}from"./@dimforge-D3Mqfikn.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=a(r);fetch(r.href,n)}})();function ae(e,a){e.geometry.computeBoundingBox(),a.forEach(function(n,o,y){n.children.length>0?n.children.forEach(function(s,v,Me){s.geometry.computeBoundingBox()}):n.geometry.computeBoundingBox()}),e.updateMatrixWorld(),a.forEach(function(n,o,y){n.updateMatrixWorld()});let i=e.geometry.boundingBox.clone();i.applyMatrix4(e.matrixWorld);var r=!1;return a.forEach(function(n,o,y){if(n.children.length>0)n.children.forEach(function(s,v,Me){let ye=s.geometry.boundingBox.clone();ye.applyMatrix4(s.matrixWorld),i.intersectsBox(ye)&&(r=s)});else{let s=n.geometry.boundingBox.clone();s.applyMatrix4(n.matrixWorld),i.intersectsBox(s)&&(r=n)}}),r}function he(){let e=window.matchMedia||window.msMatchMedia;return e?e("(pointer:coarse)").matches:!1}let F=document.querySelector(".main_load"),ge=document.querySelector(".main_menu"),we=document.querySelector(".select_level"),Ve=document.querySelector(".select_tube"),Xe=document.querySelector(".finish_window"),Ye=document.querySelector(".finish_you_time span"),fe=document.querySelector(".boom_window"),Qe=document.querySelectorAll("body>.overlay"),Ze=document.querySelector(".startButton"),$e=document.querySelectorAll(".load_level_wrap>div"),et=document.querySelectorAll(".load_level_wrap .level_time"),tt=document.querySelectorAll(".load_tubes_wrap>div"),be=[],xe=[],Se=document.querySelector(".times"),ne=document.querySelector(".current_time"),ve=document.querySelector(".best_time"),at=document.querySelector(".finish_window .finish_again"),nt=document.querySelector(".finish_window .finish_in_menu"),it=document.querySelector(".boom_window .finish_again"),ot=document.querySelector(".boom_window .finish_in_menu"),_e=document.querySelector(".speed_block"),ze=document.querySelector(".speed_block>.speed"),st=document.querySelector(".shadow_check"),U=document.querySelector(".load_percent"),ie=document.querySelector(".pause_button_wrap"),rt=document.querySelector(".close_pause_button"),lt=document.querySelector(".reset_button"),dt=document.querySelector(".inmenu_button"),ct=document.querySelector(".menu_in_game_wrap"),Re=document.querySelector(".start_time"),Le=document.querySelector(".start_time_wrap");$e.forEach((e,a)=>{e.addEventListener("click",async()=>{I=a+1,m(F),await P(!1,!0),m(Ve)})}),tt.forEach((e,a)=>{e.addEventListener("click",()=>{D=a,m(0),V()})});function V(){Se.classList.remove("hidden_block"),_e.classList.remove("hidden_block"),X[D].position.copy(l.translation());let e=3;se=!0;let a=setInterval(i=>{Le.classList.remove("hidden_block"),e++,e==4?(se=!1,Re.textContent="GO",C=!0,ie.classList.remove("hidden_block"),clearInterval(a),setTimeout(()=>{Le.classList.add("hidden_block")},600)):Re.textContent=4-e},1e3)}Ze.addEventListener("click",()=>{me=he(),me&&document.body.requestFullscreen().then(()=>{screen.orientation.lock("landscape")}),ge.classList.add("hidden_block"),we.classList.remove("hidden_block")});function m(e){Qe.forEach(a=>{a.classList.add("hidden_block")}),e!=0&&e.classList.remove("hidden_block")}at.addEventListener("click",async()=>{m(F),await G(),await P(!0,!0),m(0),V()}),it.addEventListener("click",async()=>{m(F),await G(),await P(!0,!0),m(0),V()}),lt.addEventListener("click",async()=>{await G(),await P(!0,!0),m(0),V()}),nt.addEventListener("click",async()=>{m(F),await G(),await $()}),ot.addEventListener("click",async()=>{m(F),await G(),await $()}),dt.addEventListener("click",async()=>{m(F),await G(),await $()}),ie.addEventListener("click",()=>{se==!1&&C&&!_&&(m(ct),t.userData.time=x.getElapsedTime(),x.stop(),H=!0)}),rt.addEventListener("click",()=>{m(0),x.start(),x.elapsedTime=t.userData.time,H=!1}),st.onchange=function(){this.checked?(L.shadowMap.enabled=!0,d.traverse(e=>{e.material&&(e.material.needsUpdate=!0)})):(L.shadowMap.enabled=!1,d.traverse(e=>{e.material&&(e.material.needsUpdate=!0)}))};let u,ke=!0;performance.now();let ut=[],I=0,H=!1,t,l,oe,se=!1,X=[],D=0,B,re,O=[],le,_;const f=[{hSpeed:10,maxHSpeed:.08,stepSpeed:1.5,maxSpeed:26,resetHAngle:!1},{hSpeed:14,maxHSpeed:.12,stepSpeed:10,maxSpeed:180,resetHAngle:!1},{hSpeed:14,maxHSpeed:.12,stepSpeed:3,maxSpeed:30,resetHAngle:!0}];let Ce,w=[],E=new g,de=new te,C=!1,ce=!1,q,Ee,Be,p,J,W,N,j,ue,A=[],Y=[],pe=[],b,me=he(),pt=new ee,x=new ee,Q=0,qe=1/60,T=0,z=0,R;const Ae=new te,mt=new g(0,-1,0),d=new Fe;d.background=new Ie(14479094),d.fog=new He(d.background,1,300);const K=new Oe(16777215,16777215,2);K.color.setHSL(.6,1,.6),K.groundColor.setHSL(.095,1,.75),K.position.set(0,100,0),new Je(K,10);const S=new We(16777215,3);S.position.set(1,2,.2),S.position.multiplyScalar(120),S.castShadow=!0,S.shadow.mapSize.width=2048,S.shadow.mapSize.height=2048;const Z=1e3;S.shadow.camera.left=-Z,S.shadow.camera.right=Z,S.shadow.camera.top=Z,S.shadow.camera.bottom=-Z,S.shadow.camera.far=3500,S.shadow.bias=-.001,new Ne(S,10),new je(11184810,1);const h=new Ge(85,document.body.offsetWidth/document.body.offsetHeight,.1,600);h.position.set(0,4,-10);let yt=new Ke;const L=new Pe;L.setSize(document.body.offsetWidth,document.body.offsetHeight),document.body.appendChild(L.domElement),L.shadowMap.enabled=!0,L.shadowMap.type=Ue,window.addEventListener("resize",Dt,!1);function Dt(){h.aspect=document.body.offsetWidth/document.body.offsetHeight,h.updateProjectionMatrix(),L.setSize(document.body.offsetWidth,document.body.offsetHeight)}async function ht(){localStorage.getItem("playerData")?R=JSON.parse(localStorage.getItem("playerData")):(R={levelsTimes:{}},localStorage.setItem("playerData",JSON.stringify(R))),JSON.stringify(R),et.forEach((e,a,i)=>{R.levelsTimes["time"+(a+1)]!=null?e.childNodes[1].textContent=R.levelsTimes["time"+(a+1)]:e.childNodes[1].textContent=0})}async function gt(){x=new ee,d.add(S),d.add(K),z=0,await c.init(),u=new c.World(new c.Vector3(0,-9.81,0)),await new De().loadAsync("models/map-menu.glb",onprogress=o=>{U.textContent=Math.round(o.loaded/o.total*100)+"%"}).then(o=>{const y=o.scene;U.textContent="0",y.traverse(s=>{if(s.name=="player")t=s.clone(),t.userData.vertices=t.geometry.attributes.position.array,t.userData.indices=t.geometry.index.array,t.castShadow=!0,t.receiveShadow=!0,t.material.transparent=!0,t.material.opacity=0,t.userData.mass=1,t.userData.playerBraking=!1,t.userData.hTransition=0,t.userData.currentSpeed=0,t.userData.boom=!1,t.userData.onStartArea=!0,t.userData.canBoostStep=!0,t.userData.time=0,t.userData.right=!1,t.userData.left=!1,t.userData.onGround=!1,t.userData.flying=!1,t.userData.origPosition=t.position,k(t),d.add(t);else if(s.name.includes("player-tube"))B=s.clone(),B.userData.startPosition=new g(B.position.x,B.position.y,B.position.z),X[s.name.slice(-1)-1]=B,d.add(B);else if(s.name=="arrow_area")b=s.clone(),b.userData.hPos=0,d.add(b);else if(s.name.includes("ground"))new M().setFromObject(s).getSize(new g),q=s.clone(),q.receiveShadow=!0,q.userData.mass=0,k(q),A.push(q),d.add(q),s.name=="left_ground_wall"?Ee=s.position:s.name=="right_ground_wall"&&(Be=s.position);else if(s.name.includes("wall")){new M().setFromObject(s).getSize(new g);let v=s.clone();v.castShadow=!0,v.receiveShadow=!0,v.userData.mass=1,k(v),A.push(v),Y.push(v),d.add(v)}else if(s.name.includes("area")){let v=s.clone();v.castShadow=!0,d.add(v)}else s.name.includes("start_flag")?(re=s.clone(),d.add(re)):s.name.includes("itsmen_body")?(p=s.clone(),d.add(p),k(p)):s.name.includes("itsmen_left_hand")?(J=s.clone(),d.add(J),k(J)):s.name.includes("itsmen_right_hand")?(W=s.clone(),d.add(W),k(W)):s.name.includes("itsmen_left_leg")?(N=s.clone(),d.add(N),k(N)):s.name.includes("itsmen_right_leg")&&(j=s.clone(),d.add(j),k(j))})}),d.traverse(function(o){o.material&&(o.material.needsUpdate=!0)}),await ht();let e=c.JointData.spherical({x:.3,y:-.4,z:0},{x:0,y:-.4,z:0});u.createImpulseJoint(e,p.userData.body,J.userData.body,!0);let a=c.JointData.spherical({x:-.3,y:-.4,z:0},{x:0,y:-.4,z:0});u.createImpulseJoint(a,p.userData.body,W.userData.body,!0);let i=c.JointData.spherical({x:.2,y:.5,z:0},{x:0,y:-.4,z:0});u.createImpulseJoint(i,p.userData.body,N.userData.body,!0);let r=c.JointData.spherical({x:-.2,y:.5,z:0},{x:0,y:-.4,z:0});u.createImpulseJoint(r,p.userData.body,j.userData.body,!0);let n=c.JointData.spherical({x:0,y:0,z:0},{x:0,y:.4,z:0});ue=u.createImpulseJoint(n,p.userData.body,l,!0),ce=!0}async function wt(){_=!1;const e=new De,a="models/map"+I+".glb";await e.loadAsync(a,onprogress=i=>{U.textContent=Math.round(i.loaded/i.total*100)+"%"}).then(i=>{const r=i.scene;U.textContent="0",r.traverse(n=>{if(n.name.includes("ground")){new M().setFromObject(n).getSize(new g);let o=n.clone();o.receiveShadow=!0,o.userData.mass=0,o.name=n.name,k(o),A.push(o),d.add(o)}else if(n.name.includes("wall")){new M().setFromObject(n).getSize(new g);let o=n.clone();o.userData.mass=1,k(o),A.push(o),Y.push(o),d.add(o)}else if(n.name.includes("moving_block")){const o=new M().setFromObject(n).getSize(new g);let y=n.clone();y.userData.size=o,y.userData.mass=1,y.userData.raycaster=new te,y.userData.speed=-n.name.substr(n.name.indexOf("speed")+6),y.userData.direction=new g(y.userData.speed,0,0),be.push(y),k(y),Y.push(y),d.add(y)}else if(n.name.includes("area")){let o=n.clone();o.castShadow=!0,o.receiveShadow=!0,d.add(o),n.name.includes("star_area")&&O.push(o)}else n.name.includes("finish_block")&&(le=n.clone(),d.add(le))})}),ve.textContent=R.levelsTimes["time"+I]}async function $(){await P(!0,!1),ke?(m(ge),ke=!1):m(we)}$();async function P(e,a){e&&await gt(),a&&await wt()}async function G(){for(C=!1,ce=!1,z=0,t.userData.time=0,t.userData.boom=!1,A=[],Y=[],O=[],w=[],ie.classList.add("hidden_block"),Se.classList.add("hidden_block"),_e.classList.add("hidden_block"),x.start(),x.elapsedTime=t.userData.time,H=!1,t.userData.currentSpeed=0,ze.textContent=t.userData.currentSpeed,z=0,ne.textContent=z;d.children.length>0;){let e=d.children[0];e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(a=>a.dispose()):e.material.dispose()),d.remove(e)}_=!1}function ft(){if(performance.now(),ce&&!_&&(me?t.userData.boom?h.lookAt(p.position):(h.lookAt(new g(h.position.x,t.position.y,t.position.z+5)),h.position.y=t.position.y+5,h.position.z=t.position.z-3):t.userData.boom?B.position.y>0&&h.lookAt(p.position):(h.lookAt(new g(h.position.x,t.position.y,t.position.z+5)),h.position.y=t.position.y+4,h.position.z=t.position.z-4),b.position.set(t.position.x,t.position.y,t.position.z+5)),C){_?m(Xe):(z=x.getElapsedTime().toFixed(3),ne.textContent=z,xt(),bt(),O.forEach((a,i,r)=>{a.rotation.z+=.05}),ae(t,O)&&(console.log(ae(t,O)),d.remove(ae(t,O)))),t.position.x>Ee.x-t.userData.size.x/1.3&&(b.position.x=t.position.x,t.userData.hTransition=-.4),t.position.x<Be.x+t.userData.size.x/1.3&&(b.position.x=t.position.x,t.userData.hTransition=.4);let e=new c.EventQueue(!0);u.step(e),X[D].position.copy(l.translation()),X[D].quaternion.copy(l.rotation());for(let a=0,i=w.length;a<i;a++)w[a][0].position.copy(w[a][1].translation()),w[a][0].quaternion.copy(w[a][1].rotation());e.drainCollisionEvents((a,i,r)=>{pe.forEach((n,o)=>{l.handle==a&&n.handle==i&&!_?l.linvel().z<15&&t.userData.boom==!1&&(u.removeImpulseJoint(ue),p.userData.body.applyImpulse({x:0,y:4,z:5},!0),p.userData.body.setEnabledRotations(!0),oe.setFriction(20),setTimeout(()=>{C=!1,m(fe)},2e3),t.userData.boom=!0):l.handle==a&&!_&&l.linvel().z<15&&t.position.y<5&&t.userData.boom==!1&&(u.removeImpulseJoint(ue),p.userData.body.applyImpulse({x:0,y:4,z:5},!0),p.userData.body.setEnabledRotations(!0),oe.setFriction(20),t.userData.boom=!0,setTimeout(()=>{C=!1,m(fe)},2e3))})})}yt.update()}L.setAnimationLoop(()=>{Q+=pt.getDelta(),Q>qe&&!H&&(ft(),L.render(d,h),Q=Q%qe)}),document.addEventListener("touchend",vt),document.addEventListener("touchstart",Te),document.addEventListener("touchmove",Te),window.addEventListener("keydown",_t),window.addEventListener("keyup",zt),document.addEventListener("mousedown",St,!1);function bt(){be.forEach((e,a)=>{let i=e,r=xe[a];r.setLinvel(i.userData.direction,!0),r.setAngvel({x:i.userData.direction.z,y:i.userData.direction.y,z:-i.userData.direction.x},!0);const n=i.userData.direction;i.userData.raycaster.set(new g(i.position.x,.4,i.position.z),n.clone().normalize());const o=i.userData.raycaster.intersectObjects(A);o.length>0&&o[0].distance<i.userData.size.x/2&&(i.userData.direction.x=i.userData.direction.x*-1)})}function xt(){t.position.z>le.position.z&&(z=x.getElapsedTime().toFixed(3),ne.textContent=z,_=!0,Ye.textContent=z,R.levelsTimes["time"+I]!=null?T=R.levelsTimes["time"+I]:T=0,(z<T||T==0)&&(T=z,ve.textContent=T,R.levelsTimes["time"+I]=T,localStorage.setItem("playerData",JSON.stringify(R))),t.position.z=0),b.position.x+=t.userData.hTransition;const e=new g().subVectors(l.translation(),b.position).normalize();b.lookAt(t.position.x,t.position.y,t.position.z),l.setRotation({w:b.quaternion.w,x:l.rotation().x,y:b.quaternion.y,z:l.rotation().z}),p.userData.body.setRotation({w:b.quaternion.w,x:p.userData.body.rotation().x,y:p.userData.body.rotation().z,z:b.quaternion.y}),l.setLinvel({x:e.x*-f[D].hSpeed,y:l.linvel().y,z:l.linvel().z}),Ae.set(t.position,mt);const a=Ae.intersectObjects(A);if(a.length>0&&(a[0].distance<.4?(t.userData.flying=!1,!t.userData.onGround&&t.userData.flying,t.userData.onGround=!0):(t.userData.onGround=!1,t.userData.flying=!0)),l.linvel().z>0?t.userData.currentSpeed=l.linvel().z.toFixed(0):t.userData.currentSpeed=0,ze.textContent=t.userData.currentSpeed,t.userData.left&&t.userData.onGround){t.userData.hTransition<5&&(t.userData.hTransition+=f[D].maxHSpeed);let i=l.linvel();i.z*=.9996,l.setLinvel(i,!0)}if(t.userData.right&&t.userData.onGround){t.userData.hTransition>-5&&(t.userData.hTransition-=f[D].maxHSpeed);let i=l.linvel();i.z*=.9996,l.setLinvel(i,!0)}f[D].resetHAngle&&!t.userData.left&&!t.userData.right&&(t.userData.hTransition<-f[D].maxHSpeed?t.userData.hTransition+=f[D].maxHSpeed:t.userData.hTransition>f[D].maxHSpeed?t.userData.hTransition-=f[D].maxHSpeed:t.userData.hTransition=0),t.position.z>re.position.z?t.userData.onStartArea=!1:t.userData.onStartArea=!0}function Te(e){if(t.userData.onGround){e=e.changedTouches[0];var a=L.domElement.getBoundingClientRect();E.x=(e.clientX-a.left)/a.width*2-1,E.y=-((e.clientY-a.top)/a.height)*2+1,de.setFromCamera(E,h),E.y>0&&t.userData.canBoostStep&&C&&t.userData.onStartArea&&l.linvel().z<f[D].maxSpeed&&l.linvel().y<5&&l.linvel().y>-5&&!_&&l.applyImpulse({x:0,y:0,z:f[D].stepSpeed},!0),t.userData.canBoostStep=!1,E.y<0&&(E.x>0?(t.userData.left=!1,t.userData.right=!0):(t.userData.right=!1,t.userData.left=!0))}}function St(e){e.preventDefault();var a=L.domElement.getBoundingClientRect();E.x=(e.clientX-a.left)/a.width*2-1,E.y=-((e.clientY-a.top)/a.height)*2+1,de.setFromCamera(E,h),ut.forEach(i=>{i.geometry.computeBoundingBox();var r=i.geometry.boundingBox.clone();r.applyMatrix4(i.matrixWorld),de.ray.intersectBox(r,new g)})}function vt(e){t.userData.right=!1,t.userData.left=!1,t.userData.canBoostStep=!0}function _t(e){switch(e.code){case"KeyW":case"ArrowUp":t.userData.canBoostStep&&C&&t.userData.onStartArea&&l.linvel().z<f[D].maxSpeed&&l.linvel().y<5&&l.linvel().y>-5&&!_&&l.applyImpulse({x:0,y:0,z:f[D].stepSpeed},!0),t.userData.canBoostStep=!1;break;case"KeyS":case"ArrowDown":l.applyImpulse({x:0,y:0,z:-f[D].stepSpeed/2},!0),t.userData.playerBraking=!0;break;case"KeyA":case"ArrowLeft":t.userData.left=!0;break;case"KeyD":case"ArrowRight":t.userData.right=!0;break}}function zt(e){switch(e.code){case"KeyW":case"ArrowUp":t.userData.canBoostStep=!0;break;case"KeyS":case"ArrowDown":l.linvel().y<.1&&(t.userData.playerBraking=!1);break;case"KeyA":case"ArrowLeft":t.userData.left=!1;break;case"KeyD":case"ArrowRight":t.userData.right=!1;break}}function k(e){let a,i;const r=e.rotation.clone();e.rotation.set(0,0,0);const n=new M().setFromObject(e).getSize(new g);if(e.rotation.copy(r),e.name.includes("player")?(t.userData.size=n,t.userData.orgRotation=r,a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!0,!1,!1).setLinearDamping(0).setAngularDamping(2)),i=c.ColliderDesc.cuboid(n.x/5,n.y/1.5,n.z/3).setMass(e.userData.mass).setRestitution(0).setFriction(0),l=a,oe=i,i.setActiveEvents(c.ActiveEvents.COLLISION_EVENTS),u.createCollider(i,a),t.userData.handle=l.handle,w.push([e,a,e.id])):e.name.includes("ground")&&(a=u.createRigidBody(c.RigidBodyDesc.fixed().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!0)),i=c.ColliderDesc.cuboid(n.x/2,n.y/2,n.z/2).setMass(e.userData.mass).setRestitution(0).setFriction(0),u.createCollider(i,a),Ce=a,q.userData.handle=Ce.handle,w.push([e,a,e.id])),e.name.includes("wall")){a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!0,!0,!1).setLinearDamping(0)),i=c.ColliderDesc.cuboid(n.x/2,n.y/2,n.z/2).setMass(e.userData.mass*10).setRestitution(0).setFriction(40);let o=u.createCollider(i,a);pe.push(o),w.push([e,a,e.id])}if(e.name.includes("moving_block")){a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!0,!0,!0,!0).setLinearDamping(0)),i=c.ColliderDesc.ball(n.x/2).setMass(e.userData.mass*10).setRestitution(0).setFriction(20);let o=a;xe.push(o);let y=u.createCollider(i,a);pe.push(y),w.push([e,a,e.id])}e.name.includes("itsmen_body")&&(a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!0,!1,!0).setLinearDamping(0).setAngularDamping(0)),i=c.ColliderDesc.cuboid(n.x/2,n.y/2,n.z/2).setMass(0).setRestitution(0).setFriction(0).setDensity(2),p.userData.body=a,p.userData.collider=i,u.createCollider(i,a),w.push([e,a,e.id])),e.name.includes("itsmen_left_hand")&&(a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!1,!1,!1).setLinearDamping(0).setAngularDamping(0)),i=c.ColliderDesc.capsule(n.z/2,n.x/10).setMass(0).setRestitution(0).setFriction(0).setDensity(2),J.userData.body=a,J.userData.collider=i,u.createCollider(i,a),w.push([e,a,e.id])),e.name.includes("itsmen_right_hand")&&(a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!1,!0,!1).setLinearDamping(0).setAngularDamping(0)),i=c.ColliderDesc.capsule(n.z/2,n.x/10).setMass(0).setRestitution(0).setFriction(0).setDensity(2),W.userData.body=a,W.userData.collider=i,u.createCollider(i,a),w.push([e,a,e.id])),e.name.includes("itsmen_left_leg")&&(a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!1,!1,!1).setLinearDamping(0).setAngularDamping(0)),i=c.ColliderDesc.capsule(n.z/2,n.x/10).setMass(0).setRestitution(0).setFriction(0).setDensity(2),N.userData.body=a,N.userData.collider=i,u.createCollider(i,a),w.push([e,a,e.id])),e.name.includes("itsmen_right_leg")&&(a=u.createRigidBody(c.RigidBodyDesc.dynamic().setTranslation(e.position.x,e.position.y,e.position.z).setRotation(e.quaternion).setCanSleep(!1).enabledRotations(!1,!0,!1).setLinearDamping(0).setAngularDamping(0)),i=c.ColliderDesc.capsule(n.z/2,n.x/10).setMass(0).setRestitution(0).setFriction(0).setDensity(2),j.userData.body=a,j.userData.collider=i,u.createCollider(i,a),w.push([e,a,e.id]))}document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"?!_&&C&&H==!1&&(x.start(),x.elapsedTime=t.userData.time):H==!1&&!_&&C&&(t.userData.time=x.getElapsedTime(),x.stop())});
